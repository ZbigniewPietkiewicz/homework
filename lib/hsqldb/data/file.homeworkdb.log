/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
create table closure_records (id bigint not null, depth integer, child bigint not null, parent bigint not null, tree bigint not null, primary key (id))
create table nodes (id bigint not null, is_leaf boolean default true, value integer, primary key (id))
create table trees (id bigint not null, name varchar(255), primary key (id))
create sequence closure_records_seq start with 1 increment by 50
create sequence nodes_seq start with 1 increment by 50
create sequence trees_seq start with 1 increment by 50
alter table closure_records add constraint FK177wg2b4c49pcrmvvi2uk8632 foreign key (child) references nodes on delete cascade
alter table closure_records add constraint FK6xjvi8fwpybbh012ylnbhp8f8 foreign key (parent) references nodes on delete cascade
alter table closure_records add constraint FKph0tged4p9mgw5a38l90wfq7s foreign key (tree) references trees on delete cascade
INSERT INTO TREES VALUES(1,'aaa')
ALTER SEQUENCE PUBLIC.TREES_SEQ RESTART WITH 51
COMMIT
INSERT INTO NODES VALUES(1,TRUE,0)
ALTER SEQUENCE PUBLIC.NODES_SEQ RESTART WITH 51
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(1,0,1,1,1)
ALTER SEQUENCE PUBLIC.CLOSURE_RECORDS_SEQ RESTART WITH 51
COMMIT
INSERT INTO NODES VALUES(2,TRUE,0)
ALTER SEQUENCE PUBLIC.NODES_SEQ RESTART WITH 101
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(2,0,2,2,1)
ALTER SEQUENCE PUBLIC.CLOSURE_RECORDS_SEQ RESTART WITH 101
COMMIT
DELETE FROM NODES WHERE ID=1
INSERT INTO NODES VALUES(1,FALSE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(3,1,2,1,1)
COMMIT
INSERT INTO NODES VALUES(3,TRUE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(4,0,3,3,1)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(5,1,3,1,1)
COMMIT
DELETE FROM CLOSURE_RECORDS WHERE ID=1
COMMIT
DELETE FROM CLOSURE_RECORDS WHERE ID=2
COMMIT
DELETE FROM CLOSURE_RECORDS WHERE ID=3
COMMIT
DELETE FROM CLOSURE_RECORDS WHERE ID=4
COMMIT
DELETE FROM CLOSURE_RECORDS WHERE ID=5
COMMIT
DELETE FROM TREES WHERE ID=1
COMMIT
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C42*/SET SCHEMA PUBLIC
DISCONNECT
/*C43*/SET SCHEMA PUBLIC
DISCONNECT
/*C44*/SET SCHEMA PUBLIC
DISCONNECT
/*C45*/SET SCHEMA PUBLIC
DISCONNECT
/*C46*/SET SCHEMA PUBLIC
DISCONNECT
/*C47*/SET SCHEMA PUBLIC
DISCONNECT
/*C48*/SET SCHEMA PUBLIC
DISCONNECT
/*C49*/SET SCHEMA PUBLIC
DISCONNECT
/*C50*/SET SCHEMA PUBLIC
DISCONNECT
/*C51*/SET SCHEMA PUBLIC
DISCONNECT
/*C52*/SET SCHEMA PUBLIC
DISCONNECT
/*C53*/SET SCHEMA PUBLIC
DISCONNECT
/*C54*/SET SCHEMA PUBLIC
DISCONNECT
/*C55*/SET SCHEMA PUBLIC
DISCONNECT
/*C56*/SET SCHEMA PUBLIC
DISCONNECT
/*C57*/SET SCHEMA PUBLIC
DISCONNECT
/*C58*/SET SCHEMA PUBLIC
DISCONNECT
/*C59*/SET SCHEMA PUBLIC
DISCONNECT
/*C60*/SET SCHEMA PUBLIC
DISCONNECT
/*C61*/SET SCHEMA PUBLIC
DISCONNECT
/*C62*/SET SCHEMA PUBLIC
DISCONNECT
/*C63*/SET SCHEMA PUBLIC
DISCONNECT
/*C64*/SET SCHEMA PUBLIC
DISCONNECT
/*C65*/SET SCHEMA PUBLIC
DISCONNECT
/*C66*/SET SCHEMA PUBLIC
DISCONNECT
/*C67*/SET SCHEMA PUBLIC
DISCONNECT
/*C68*/SET SCHEMA PUBLIC
DISCONNECT
/*C69*/SET SCHEMA PUBLIC
DISCONNECT
/*C70*/SET SCHEMA PUBLIC
DISCONNECT
/*C71*/SET SCHEMA PUBLIC
DISCONNECT
/*C72*/SET SCHEMA PUBLIC
DISCONNECT
/*C73*/SET SCHEMA PUBLIC
DISCONNECT
/*C74*/SET SCHEMA PUBLIC
DISCONNECT
/*C75*/SET SCHEMA PUBLIC
DISCONNECT
/*C76*/SET SCHEMA PUBLIC
DISCONNECT
/*C77*/SET SCHEMA PUBLIC
DISCONNECT
/*C78*/SET SCHEMA PUBLIC
DISCONNECT
/*C79*/SET SCHEMA PUBLIC
DISCONNECT
/*C80*/SET SCHEMA PUBLIC
DISCONNECT
/*C81*/SET SCHEMA PUBLIC
DISCONNECT
/*C82*/SET SCHEMA PUBLIC
DISCONNECT
/*C83*/SET SCHEMA PUBLIC
DISCONNECT
/*C84*/SET SCHEMA PUBLIC
DISCONNECT
/*C85*/SET SCHEMA PUBLIC
DISCONNECT
/*C86*/SET SCHEMA PUBLIC
DISCONNECT
/*C87*/SET SCHEMA PUBLIC
DISCONNECT
/*C88*/SET SCHEMA PUBLIC
DISCONNECT
/*C89*/SET SCHEMA PUBLIC
DISCONNECT
/*C90*/SET SCHEMA PUBLIC
DISCONNECT
/*C91*/SET SCHEMA PUBLIC
DISCONNECT
/*C92*/SET SCHEMA PUBLIC
DISCONNECT
/*C93*/SET SCHEMA PUBLIC
DISCONNECT
/*C94*/SET SCHEMA PUBLIC
DISCONNECT
/*C95*/SET SCHEMA PUBLIC
DISCONNECT
/*C96*/SET SCHEMA PUBLIC
DISCONNECT
/*C97*/SET SCHEMA PUBLIC
DISCONNECT
/*C98*/SET SCHEMA PUBLIC
DISCONNECT
/*C99*/SET SCHEMA PUBLIC
DISCONNECT
/*C100*/SET SCHEMA PUBLIC
DISCONNECT
/*C101*/SET SCHEMA PUBLIC
DISCONNECT
/*C102*/SET SCHEMA PUBLIC
DISCONNECT
/*C103*/SET SCHEMA PUBLIC
INSERT INTO TREES VALUES(2,'bbb')
ALTER SEQUENCE PUBLIC.TREES_SEQ RESTART WITH 101
COMMIT
INSERT INTO NODES VALUES(52,TRUE,0)
ALTER SEQUENCE PUBLIC.NODES_SEQ RESTART WITH 151
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(52,0,52,52,2)
ALTER SEQUENCE PUBLIC.CLOSURE_RECORDS_SEQ RESTART WITH 151
COMMIT
INSERT INTO NODES VALUES(53,TRUE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(53,0,53,53,2)
COMMIT
DELETE FROM NODES WHERE ID=52
INSERT INTO NODES VALUES(52,FALSE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(54,1,53,52,2)
COMMIT
DISCONNECT
/*C104*/SET SCHEMA PUBLIC
DISCONNECT
/*C112*/SET SCHEMA PUBLIC
DISCONNECT
/*C111*/SET SCHEMA PUBLIC
DISCONNECT
/*C110*/SET SCHEMA PUBLIC
DISCONNECT
/*C109*/SET SCHEMA PUBLIC
DISCONNECT
/*C108*/SET SCHEMA PUBLIC
DISCONNECT
/*C107*/SET SCHEMA PUBLIC
DISCONNECT
/*C106*/SET SCHEMA PUBLIC
DISCONNECT
/*C105*/SET SCHEMA PUBLIC
DISCONNECT
/*C113*/SET SCHEMA PUBLIC
DELETE FROM NODES WHERE ID=52
DELETE FROM CLOSURE_RECORDS WHERE ID=52
DELETE FROM CLOSURE_RECORDS WHERE ID=54
COMMIT
DISCONNECT
/*C114*/SET SCHEMA PUBLIC
DISCONNECT
/*C115*/SET SCHEMA PUBLIC
DISCONNECT
/*C116*/SET SCHEMA PUBLIC
DISCONNECT
/*C117*/SET SCHEMA PUBLIC
DISCONNECT
/*C118*/SET SCHEMA PUBLIC
DISCONNECT
/*C119*/SET SCHEMA PUBLIC
DISCONNECT
/*C120*/SET SCHEMA PUBLIC
DISCONNECT
/*C121*/SET SCHEMA PUBLIC
DISCONNECT
/*C122*/SET SCHEMA PUBLIC
DISCONNECT
/*C123*/SET SCHEMA PUBLIC
DISCONNECT
/*C124*/SET SCHEMA PUBLIC
DISCONNECT
/*C125*/SET SCHEMA PUBLIC
DISCONNECT
/*C126*/SET SCHEMA PUBLIC
DISCONNECT
/*C127*/SET SCHEMA PUBLIC
DISCONNECT
/*C128*/SET SCHEMA PUBLIC
DISCONNECT
/*C129*/SET SCHEMA PUBLIC
DISCONNECT
/*C130*/SET SCHEMA PUBLIC
DISCONNECT
/*C131*/SET SCHEMA PUBLIC
DISCONNECT
/*C132*/SET SCHEMA PUBLIC
DISCONNECT
/*C133*/SET SCHEMA PUBLIC
DISCONNECT
/*C134*/SET SCHEMA PUBLIC
DISCONNECT
/*C135*/SET SCHEMA PUBLIC
DISCONNECT
/*C136*/SET SCHEMA PUBLIC
DISCONNECT
/*C137*/SET SCHEMA PUBLIC
DISCONNECT
/*C138*/SET SCHEMA PUBLIC
DISCONNECT
/*C139*/SET SCHEMA PUBLIC
DISCONNECT
/*C140*/SET SCHEMA PUBLIC
DISCONNECT
/*C141*/SET SCHEMA PUBLIC
DISCONNECT
/*C142*/SET SCHEMA PUBLIC
DISCONNECT
/*C143*/SET SCHEMA PUBLIC
DISCONNECT
/*C144*/SET SCHEMA PUBLIC
DISCONNECT
/*C145*/SET SCHEMA PUBLIC
DISCONNECT
/*C146*/SET SCHEMA PUBLIC
DISCONNECT
/*C147*/SET SCHEMA PUBLIC
DISCONNECT
/*C148*/SET SCHEMA PUBLIC
DISCONNECT
/*C149*/SET SCHEMA PUBLIC
DISCONNECT
/*C150*/SET SCHEMA PUBLIC
DISCONNECT
/*C151*/SET SCHEMA PUBLIC
DISCONNECT
/*C152*/SET SCHEMA PUBLIC
DISCONNECT
/*C155*/SET SCHEMA PUBLIC
DISCONNECT
/*C153*/SET SCHEMA PUBLIC
DISCONNECT
/*C160*/SET SCHEMA PUBLIC
DISCONNECT
/*C159*/SET SCHEMA PUBLIC
DISCONNECT
/*C156*/SET SCHEMA PUBLIC
DISCONNECT
/*C157*/SET SCHEMA PUBLIC
DISCONNECT
/*C158*/SET SCHEMA PUBLIC
DISCONNECT
/*C162*/SET SCHEMA PUBLIC
DISCONNECT
/*C161*/SET SCHEMA PUBLIC
DISCONNECT
/*C154*/SET SCHEMA PUBLIC
DISCONNECT
/*C163*/SET SCHEMA PUBLIC
INSERT INTO NODES VALUES(102,TRUE,0)
ALTER SEQUENCE PUBLIC.NODES_SEQ RESTART WITH 201
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(102,0,102,102,2)
ALTER SEQUENCE PUBLIC.CLOSURE_RECORDS_SEQ RESTART WITH 201
COMMIT
DELETE FROM NODES WHERE ID=53
INSERT INTO NODES VALUES(53,FALSE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(103,1,102,53,2)
COMMIT
DELETE FROM CLOSURE_RECORDS WHERE ID=53
COMMIT
DELETE FROM CLOSURE_RECORDS WHERE ID=102
COMMIT
DELETE FROM CLOSURE_RECORDS WHERE ID=103
COMMIT
DELETE FROM TREES WHERE ID=2
COMMIT
DISCONNECT
/*C164*/SET SCHEMA PUBLIC
DISCONNECT
/*C165*/SET SCHEMA PUBLIC
DISCONNECT
/*C166*/SET SCHEMA PUBLIC
DISCONNECT
/*C167*/SET SCHEMA PUBLIC
DISCONNECT
/*C168*/SET SCHEMA PUBLIC
DISCONNECT
/*C169*/SET SCHEMA PUBLIC
DISCONNECT
/*C170*/SET SCHEMA PUBLIC
DISCONNECT
/*C171*/SET SCHEMA PUBLIC
DISCONNECT
/*C172*/SET SCHEMA PUBLIC
DISCONNECT
/*C173*/SET SCHEMA PUBLIC
DISCONNECT
/*C174*/SET SCHEMA PUBLIC
DISCONNECT
/*C175*/SET SCHEMA PUBLIC
DISCONNECT
/*C176*/SET SCHEMA PUBLIC
DISCONNECT
/*C177*/SET SCHEMA PUBLIC
DISCONNECT
/*C178*/SET SCHEMA PUBLIC
DISCONNECT
/*C179*/SET SCHEMA PUBLIC
DISCONNECT
/*C180*/SET SCHEMA PUBLIC
DISCONNECT
/*C181*/SET SCHEMA PUBLIC
DISCONNECT
/*C182*/SET SCHEMA PUBLIC
DISCONNECT
/*C183*/SET SCHEMA PUBLIC
INSERT INTO TREES VALUES(52,'bbb')
ALTER SEQUENCE PUBLIC.TREES_SEQ RESTART WITH 151
COMMIT
INSERT INTO NODES VALUES(152,TRUE,0)
ALTER SEQUENCE PUBLIC.NODES_SEQ RESTART WITH 251
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(152,0,152,152,52)
ALTER SEQUENCE PUBLIC.CLOSURE_RECORDS_SEQ RESTART WITH 251
COMMIT
INSERT INTO NODES VALUES(153,TRUE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(153,0,153,153,52)
COMMIT
DELETE FROM NODES WHERE ID=152
INSERT INTO NODES VALUES(152,FALSE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(154,1,153,152,52)
COMMIT
DELETE FROM NODES WHERE ID=152
DELETE FROM CLOSURE_RECORDS WHERE ID=152
DELETE FROM CLOSURE_RECORDS WHERE ID=154
COMMIT
DISCONNECT
/*C184*/SET SCHEMA PUBLIC
DISCONNECT
/*C185*/SET SCHEMA PUBLIC
DISCONNECT
/*C186*/SET SCHEMA PUBLIC
DISCONNECT
/*C187*/SET SCHEMA PUBLIC
DISCONNECT
/*C188*/SET SCHEMA PUBLIC
DISCONNECT
/*C189*/SET SCHEMA PUBLIC
DISCONNECT
/*C190*/SET SCHEMA PUBLIC
DISCONNECT
/*C191*/SET SCHEMA PUBLIC
DISCONNECT
/*C192*/SET SCHEMA PUBLIC
DISCONNECT
/*C193*/SET SCHEMA PUBLIC
INSERT INTO NODES VALUES(202,TRUE,0)
ALTER SEQUENCE PUBLIC.NODES_SEQ RESTART WITH 301
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(202,0,202,202,52)
ALTER SEQUENCE PUBLIC.CLOSURE_RECORDS_SEQ RESTART WITH 301
COMMIT
DELETE FROM NODES WHERE ID=153
INSERT INTO NODES VALUES(153,FALSE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(203,1,202,153,52)
COMMIT
INSERT INTO NODES VALUES(203,TRUE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(204,0,203,203,52)
COMMIT
DELETE FROM NODES WHERE ID=202
INSERT INTO NODES VALUES(202,FALSE,0)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(205,1,203,202,52)
COMMIT
INSERT INTO CLOSURE_RECORDS VALUES(206,2,203,153,52)
COMMIT
DELETE FROM NODES WHERE ID=153
DELETE FROM CLOSURE_RECORDS WHERE ID=153
DELETE FROM CLOSURE_RECORDS WHERE ID=203
DELETE FROM CLOSURE_RECORDS WHERE ID=206
COMMIT
DISCONNECT
/*C194*/SET SCHEMA PUBLIC
DISCONNECT
/*C195*/SET SCHEMA PUBLIC
DISCONNECT
/*C196*/SET SCHEMA PUBLIC
DISCONNECT
/*C197*/SET SCHEMA PUBLIC
DISCONNECT
/*C198*/SET SCHEMA PUBLIC
DISCONNECT
/*C199*/SET SCHEMA PUBLIC
DISCONNECT
/*C200*/SET SCHEMA PUBLIC
DISCONNECT
/*C201*/SET SCHEMA PUBLIC
DISCONNECT
/*C202*/SET SCHEMA PUBLIC
DISCONNECT
/*C203*/SET SCHEMA PUBLIC
DELETE FROM TREES WHERE ID=52
DELETE FROM CLOSURE_RECORDS WHERE ID=202
DELETE FROM CLOSURE_RECORDS WHERE ID=204
DELETE FROM CLOSURE_RECORDS WHERE ID=205
COMMIT
DISCONNECT
/*C204*/SET SCHEMA PUBLIC
DISCONNECT
/*C205*/SET SCHEMA PUBLIC
DISCONNECT
/*C206*/SET SCHEMA PUBLIC
DISCONNECT
/*C207*/SET SCHEMA PUBLIC
DISCONNECT
/*C208*/SET SCHEMA PUBLIC
DISCONNECT
/*C209*/SET SCHEMA PUBLIC
DISCONNECT
/*C210*/SET SCHEMA PUBLIC
DISCONNECT
/*C211*/SET SCHEMA PUBLIC
DISCONNECT
/*C212*/SET SCHEMA PUBLIC
DISCONNECT
/*C213*/SET SCHEMA PUBLIC
DISCONNECT
/*C214*/SET SCHEMA PUBLIC
DISCONNECT
/*C215*/SET SCHEMA PUBLIC
DISCONNECT
